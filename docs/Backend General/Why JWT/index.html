<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Backend General/Why JWT">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Why do we use JWT? | Tong</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://txia0625.github.io/docs/Backend General/Why JWT"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Why do we use JWT? | Tong"><meta data-rh="true" name="description" content="JWT, or JSON Web Token, is a widely adopted cross-origin authentication solution. This article aims to provide a comprehensive understanding of its pros and cons."><meta data-rh="true" property="og:description" content="JWT, or JSON Web Token, is a widely adopted cross-origin authentication solution. This article aims to provide a comprehensive understanding of its pros and cons."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://txia0625.github.io/docs/Backend General/Why JWT"><link data-rh="true" rel="alternate" href="https://txia0625.github.io/docs/Backend General/Why JWT" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://txia0625.github.io/docs/Backend General/Why JWT" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BWG0DEIDEP-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tong RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tong Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Tong" href="/opensearch.xml">

<meta name="referrer" content="no-referrer"><link rel="stylesheet" href="/assets/css/styles.75b33eb2.css">
<link rel="preload" href="/assets/js/runtime~main.938ea752.js" as="script">
<link rel="preload" href="/assets/js/main.d559d405.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Tong&#x27;s Blog</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/start">Tech Notes</a><a class="navbar__item navbar__link" href="/blog/test">Others</a><a href="https://github.com/txia0625" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.linkedin.com/in/tong-xia/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><b>Tong&#x27;s Blog</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/start">About the Blog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/Backend General/MD5 General">General Backend</a><button aria-label="打开/收起侧边栏菜单「General Backend」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Backend General/MD5 General">General Discuss of MD5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Backend General/Why JWT">Why do we use JWT?</a></li></ul></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Backend General/MD5 General"><span itemprop="name">General Backend</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Why do we use JWT?</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Why do we use JWT?</h1><p>JWT, or JSON Web Token, is a widely adopted cross-origin authentication solution. This article aims to provide a comprehensive understanding of its pros and cons.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="structrue-of-jwt">Structrue of JWT<a href="#structrue-of-jwt" class="hash-link" aria-label="Structrue of JWT的直接链接" title="Structrue of JWT的直接链接">​</a></h2><p>The structure of JWT has 3 parts. Headers, Payload and Signature.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="header">Header<a href="#header" class="hash-link" aria-label="Header的直接链接" title="Header的直接链接">​</a></h3><p>The header is a JSON object that records metadata such as the signature algorithm and token type. This information is then encoded into a string using the Base64 algorithm.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="payload">Payload<a href="#payload" class="hash-link" aria-label="Payload的直接链接" title="Payload的直接链接">​</a></h3><p>The Payload is also a JSON object, recording data exchanged with the server, including expiration time, issued time, and JWT ID. It can also accommodate business data such as name and birthday. </p><p>However, it&#x27;s essential to note that this section is not encrypted, so sensitive information should not be placed here.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="signature">Signature<a href="#signature" class="hash-link" aria-label="Signature的直接链接" title="Signature的直接链接">​</a></h3><p>The Signature ensures data integrity and prevents malicious modifications. The server assigns a secret known only to itself, using a signature algorithm to sign the header, payload, and secret. The resulting output is referred to as the Signature.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="concatenation">Concatenation<a href="#concatenation" class="hash-link" aria-label="Concatenation的直接链接" title="Concatenation的直接链接">​</a></h3><p>The final step is to concatenate with the following format:</p><p><code>Header.Payload.Signature</code></p><p>Notice, the Header and Payload part is encoded with the Base64 algorithm.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-is-jwt-popular">Why is JWT popular?<a href="#why-is-jwt-popular" class="hash-link" aria-label="Why is JWT popular?的直接链接" title="Why is JWT popular?的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="in-the-past">In the Past<a href="#in-the-past" class="hash-link" aria-label="In the Past的直接链接" title="In the Past的直接链接">​</a></h3><p>Traditional authentication procedures are:</p><ol><li>Client send username and password to the server</li><li>If it could be authenticated, save user authentication data into current <strong>session</strong></li><li>Server return a <strong>session id</strong> to the client&#x27;s cookie.</li><li>After that, user will send cookie which contains session id to the server for each request.</li><li>The server use session id from the cookie to distinguish who the user is.</li></ol><p>This worked well for single-server authentication.  </p><p>However, if the business has two websites and require you implement a feature, which is login on one of website so that we don&#x27;t need to login again on the other website. </p><p>An important thing to notice is, since we save the session id in the cookie, we cannot send the cookie to the other website. Why so? Because cookie does not support cross origin.</p><p>JWT is a solution saves all the data on the client side. Every time a user send a request to the server, it comes with the token. We don&#x27;t need to store anything in the persistent layer. The only thing we need to do is just to redo the structure process, and compare with the token passed along with the request.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="front-end-and-back-end-separation">Front-End and Back-End Separation<a href="#front-end-and-back-end-separation" class="hash-link" aria-label="Front-End and Back-End Separation的直接链接" title="Front-End and Back-End Separation的直接链接">​</a></h3><p>Modern architectures often separate front-end and back-end components.</p><p>It&#x27;s a simple, clear architecture. Because the back-end part only need to provide APIs, and the front-end part only need to invoke those APIs and convert response into proper view for the users.</p><p>We have to understand this separation means we have to run front-end and back-end in two different servers. This will cross origin. </p><p>However, using JWT we simply need to attach the token along with the request header to invoke API.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mobile-platform">Mobile Platform<a href="#mobile-platform" class="hash-link" aria-label="Mobile Platform的直接链接" title="Mobile Platform的直接链接">​</a></h3><p>As we might know, cookies are not supported in mobile platforms like iOS/Android. In contrast, JWT is just a token that passed with http request. JWT works well with mobile platforms. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stateless-easier-server-load">Stateless, Easier Server Load<a href="#stateless-easier-server-load" class="hash-link" aria-label="Stateless, Easier Server Load的直接链接" title="Stateless, Easier Server Load的直接链接">​</a></h3><p>Like I said before, we don&#x27;t need to store anything in the persistent layer like normal session does. JWT is stateless. The query to the persistent layer takes time, it definitely lower the performance. No extra query to the database make JWT a more efficient choice in some circumstances. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="downside-of-jwt">Downside of JWT<a href="#downside-of-jwt" class="hash-link" aria-label="Downside of JWT的直接链接" title="Downside of JWT的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="more-bandwidth">More Bandwidth<a href="#more-bandwidth" class="hash-link" aria-label="More Bandwidth的直接链接" title="More Bandwidth的直接链接">​</a></h3><p>Recall that to verify who you are, we only need to pass session_id to the server if we use traditional procedure. Sending data along with the JWT is more than just an id. It takes more bandwidth(resources). Does it worth if we are under large volume of requests?</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="invalid-token-need-something-extra">Invalid Token need something extra<a href="#invalid-token-need-something-extra" class="hash-link" aria-label="Invalid Token need something extra的直接链接" title="Invalid Token need something extra的直接链接">​</a></h3><p>Invalid a token is impossible if we don&#x27;t save any relative to the persistent layer. Without saving any data, we can only wait until the token expires. It means if we login on two devices at the same time, we could not invalid the token if we only want one to stay alive. If someone use your valid token(before it expires), he can do anything he want by using your identity! </p><p>However, if we save data to the persistent layer, it loses the advantage that JWT is stateless. First, we need to spend some storage space to save data. In addition, it will spend the time to query the database everytime we want to invalid a token. It sounds just like session...</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Conclusion的直接链接" title="Conclusion的直接链接">​</a></h2><p>JWT is a light-weight, mobile friendly, stateless technology. In development we still need to make some trade off to implement all the features we want. Thank you for reading!</p><p>Happy coding again,</p><p>Tong</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Backend General/Why JWT.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Backend General/MD5 General"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">General Discuss of MD5</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#structrue-of-jwt" class="table-of-contents__link toc-highlight">Structrue of JWT</a><ul><li><a href="#header" class="table-of-contents__link toc-highlight">Header</a></li><li><a href="#payload" class="table-of-contents__link toc-highlight">Payload</a></li><li><a href="#signature" class="table-of-contents__link toc-highlight">Signature</a></li><li><a href="#concatenation" class="table-of-contents__link toc-highlight">Concatenation</a></li></ul></li><li><a href="#why-is-jwt-popular" class="table-of-contents__link toc-highlight">Why is JWT popular?</a><ul><li><a href="#in-the-past" class="table-of-contents__link toc-highlight">In the Past</a></li><li><a href="#front-end-and-back-end-separation" class="table-of-contents__link toc-highlight">Front-End and Back-End Separation</a></li><li><a href="#mobile-platform" class="table-of-contents__link toc-highlight">Mobile Platform</a></li><li><a href="#stateless-easier-server-load" class="table-of-contents__link toc-highlight">Stateless, Easier Server Load</a></li></ul></li><li><a href="#downside-of-jwt" class="table-of-contents__link toc-highlight">Downside of JWT</a><ul><li><a href="#more-bandwidth" class="table-of-contents__link toc-highlight">More Bandwidth</a></li><li><a href="#invalid-token-need-something-extra" class="table-of-contents__link toc-highlight">Invalid Token need something extra</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.938ea752.js"></script>
<script src="/assets/js/main.d559d405.js"></script>
</body>
</html>